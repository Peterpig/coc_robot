# 01 - 项目概述

## 项目信息

**名称**：coc_robot - 部落冲突自动化辅助工具

**性质**：技术学习演示项目，用于展示图像识别、自动化脚本、软件架构设计

**仓库**：https://github.com/qilishidai/coc_robot

## 技术栈

| 类别 | 技术 |
|------|------|
| 语言 | Python 3.10.9 |
| GUI | Tkinter + ttk + sv_ttk主题 |
| 图像识别 | YOLO v5 (ultralytics), YOLO v8 (ONNX Runtime) |
| OCR | PaddleOCR |
| 模板匹配 | OpenCV |
| 数据库 | SQLite3 |
| 模拟器控制 | 雷电模拟器 API |

## 目录结构

```
coc_robot/
├── UI入口.py                 # GUI主入口，包含用户协议功能
├── 主入口.py                 # 命令行入口，机器人监控中心
├── 任务流程/                 # 所有自动化任务
│   ├── __init__.py
│   ├── 基础任务框架.py       # 核心：任务基类和上下文定义
│   ├── 启动模拟器.py
│   ├── 检测游戏登录状态.py
│   ├── 更新主世界账号资源状态.py
│   ├── 升级城墙.py
│   ├── 世界跳转/             # 主世界/夜世界切换
│   ├── 主世界打鱼/           # 主世界进攻逻辑
│   ├── 天鹰火炮成就/         # 天鹰火炮成就刷取
│   ├── 建筑升级/             # 建筑和英雄升级
│   └── 夜世界/               # 夜世界相关任务
├── 模块/                     # 检测引擎和工具
│   ├── 检测/
│   │   ├── YOLO检测器.py     # 线程安全YOLO检测器
│   │   ├── OCR识别器.py      # 安全OCR引擎
│   │   └── 模板匹配器.py     # 模板匹配引擎
│   ├── 雷电模拟器操作类.py
│   └── 自动启动管理器.py
├── 数据库/
│   ├── 任务数据库.py         # 数据库管理类
│   └── 任务系统.db           # SQLite数据库文件
├── 线程/
│   └── 自动化机器人.py       # 机器人线程实现
├── 界面/
│   ├── 配置管理面板.py       # 自动生成UI的配置面板
│   └── 自动启动界面.py
├── 核心/
│   ├── op.py                 # 屏幕图像获取
│   ├── 鼠标操作.py
│   └── 键盘操作.py
├── 模板/                     # 模板匹配图片资源
├── docs/                     # 用户文档目录
└── .claude/                  # Claude Code内部文档
```

## 运行环境要求

- **Python**：3.10.9
- **模拟器**：雷电模拟器
- **分辨率**：800x600, DPI 160
- **Windows缩放**：必须100%
- **操作系统**：Windows 10/11

## 启动方式

### GUI方式
```bash
python UI入口.py
```

### 命令行方式
```bash
python 主入口.py [参数]
```

详见 `docs/命令行使用指南.md`
